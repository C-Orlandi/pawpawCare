<ion-header [translucent]="true">

</ion-header>

<ion-content class="ion-padding">

  <div class="banner-container">
    <img src="../../../../assets/img/paw.png" alt="Banner login" class="banner-image" />
  </div>

  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>Ingreso al sistema</ion-card-subtitle>
    </ion-card-header>

   <ion-card-content>
  
  <form [formGroup]="loginForm">
  <ion-item>
      <ion-input formControlName="email" type="email" label="Usuario:" labelPlacement="floating" placeholder="Enter text"></ion-input>
    </ion-item>

    <ion-text position="stacked" color="danger" *ngIf="loginForm.get('email')?.hasError('required')">
      El correo es obligatorio
    </ion-text>

    <ion-text position="stacked" color="danger" *ngIf="loginForm.get('email')?.hasError('email')">
      El correo es invalido
    </ion-text>

    <ion-item class="password-item">
    <ion-input
      formControlName="pass"
      [type]="verPassword ? 'text' : 'password'"
      label="Contraseña:"
      labelPlacement="floating"
      placeholder="Ingrese su contraseña">
    </ion-input>

    <ion-button
      fill="clear"
      slot="end"
      size="small"
      (click)="togglePassword()"
      class="eye-button">
      <ion-icon
        [name]="verPassword ? 'eye-off-outline' : 'eye-outline'"
        slot="icon-only">
      </ion-icon>
    </ion-button>
  </ion-item>

    <ion-text position="stacked" color="danger" *ngIf="loginForm.get('pass')?.hasError('required')">
      La contraseña es obligatoria
    </ion-text>

    <ion-text position="stacked" color="danger" *ngIf="loginForm.get('pass')?.hasError('minlength')">
      La contraseña debe tener mínimo 6 caracteres
    </ion-text>

    <ion-button 
        expand="full" 
        color="dark" 
        (click)="login()" 
        style="margin-top: 20px;">
        Ingresar
      </ion-button>

      <ion-button 
        expand="full" 
        color="dark" 
        routerLink="/register"
        fill="clear"
        style="margin-top: 10px;">
        Registrarse
      </ion-button>

      <ion-item lines="none" style="margin-top: 15px; justify-content: center;">
        <ion-label>
          <a (click)="recovery()" style="cursor: pointer; color: var(--ion-color-primary);">¿Olvidaste tu contraseña?</a>
        </ion-label>
      </ion-item>

  </form>
  </ion-card-content>
  </ion-card>
</ion-content>
